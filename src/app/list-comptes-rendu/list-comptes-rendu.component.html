<div class="content">
  <section class="content-header">
    <h1>
      List des visites
      <small>Visites</small>
    </h1>
    <ol class="breadcrumb">
      <li><a routerLink="/home"><i class="fa fa-dashboard"></i>Home</a></li>
      <li><a routerLink="/listComptesRendu"> List des visites</a></li>
    </ol>
  </section>
  <div class="content spacer">
   <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-bordered table-hover display nowrap " cellspacing="0" width="100%">
     <thead>
     <tr>
       <th>ID</th> <th>Ordre de Visite </th> <th>Date de visite</th> <th>Chantier</th> <th>Nature des travaux</th> <th>Etat du Compte Rendu</th> <th>Actions</th> <th>Valider/Non</th>
     </tr>
     </thead>
     <tfoot>
     <tr>
       <th>ID</th> <th>Ordre de Visite </th> <th>Date de visite</th> <th>Chantier</th> <th>Nature des travaux</th> <th>Etat du Compte Rendu</th> <th>Actions</th> <th>Valider/Non</th>
     </tr>
     </tfoot>
     <tbody>
     <tr *ngFor="let v of pageVisite">
       <td>{{v.id_viste}}</td>
       <td>{{v.date_visite}}</td>
       <td>{{v.date_visite}}</td>
       <td>{{v.chantier.libelle_chantier}}</td>
       <td>{{v.description}}</td>
       <td><span class="label label-info">{{v.compteRendu.etatCompteRendu.libelle}}</span></td>
       <td>
         <a (click)="show(v.id_viste)" class="clickable">Details</a>
       </td>
       <button class="btn btn-primary" *ngIf="authService.isAps() && v.compteRendu.etatCompteRendu.id_etat==2" (click)="valid(v.id_viste)">Valider</button>
       <button disabled class="btn btn-success"  *ngIf="v.compteRendu.etatCompteRendu.id_etat==3 ">Valid√©</button>
     </tr>
     </tbody>
    </table>
  </div>

</div>

